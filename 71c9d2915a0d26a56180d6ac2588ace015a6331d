{
  "comments": [
    {
      "key": {
        "uuid": "76a14e06_4d8de89c",
        "filename": "resources/sch.sh",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 511
      },
      "writtenOn": "2019-07-22T12:25:57Z",
      "side": 1,
      "message": "I don\u0027t think this will work, because the configuration will not be in Consul.   The Helm charts that deploy SCH supply configuration via a local file.   See https://gerrit.onap.org/r/gitweb?p\u003doom.git;a\u003dblob;f\u003dkubernetes/dcaegen2/charts/dcae-servicechange-handler/templates/deployment.yaml;h\u003d44ebc42412bf0d3a09579202037f1dcd2fae6dda;hb\u003dHEAD  lines 61-66.   See also https://gerrit.onap.org/r/gitweb?p\u003doom.git;a\u003dblob;f\u003dkubernetes/dcaegen2/charts/dcae-servicechange-handler/resources/config/config.json;h\u003d7ddc800817c2ec07ded6fe5208c3513645ea99be;hb\u003dHEAD, which supplies the configuration file.  I suspect this may need to be changed as well, as I see an http URL for inventory as one of the configuration elements.",
      "revId": "71c9d2915a0d26a56180d6ac2588ace015a6331d",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bf523fc_c5430555",
        "filename": "resources/sch.sh",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1071
      },
      "writtenOn": "2019-07-22T14:00:29Z",
      "side": 1,
      "message": "The use of consul as source of configuration was there before as the cmd default.  I just didn\u0027t change it.  I have changes lined up on the oom side that overrides this default with the local file approach and I also have changes to the inventory URL to use https.\n\nI can change this to the local file path in the oom chart for SCH.  I can also alternatively just throw an error saying the SCH_ARGS variable hasn\u0027t been set.  I think I\u0027d rather do that..",
      "parentUuid": "76a14e06_4d8de89c",
      "revId": "71c9d2915a0d26a56180d6ac2588ace015a6331d",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c2a5758_f1211e30",
        "filename": "resources/sch.sh",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 511
      },
      "writtenOn": "2019-07-22T17:41:41Z",
      "side": 1,
      "message": "In the Dublin release, we started deploying SCH using Helm.  The Helm chart specified the startup command as follows:\n          command: [\"java\"]\n          args:\n            - \"-jar\"           \n            - \"/opt/servicechange-handler.jar\"\n            - \"prod\"\n            - \"/opt/config.json\"\nIf we don\u0027t change this chart, we won\u0027t invoke the sch.sh script. But if we do change the chart to run \"sch.sh\", the SCH will go looking in Consul for a configuration that isn\u0027t there.",
      "parentUuid": "1bf523fc_c5430555",
      "revId": "71c9d2915a0d26a56180d6ac2588ace015a6331d",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31be9f17_af1b0db7",
        "filename": "resources/sch.sh",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 511
      },
      "writtenOn": "2019-07-22T17:41:41Z",
      "side": 1,
      "message": "I am asking for this line to read SCH_ARGS\u003d\"prod /opt/config.json\".\nOr, if you really intend to go back to using Consul as the source of config information, I\u0027d like to know how the information will be put there.",
      "revId": "71c9d2915a0d26a56180d6ac2588ace015a6331d",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}